<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ImmoBTP - Vente de parcelles & services BTP</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* ----------- Style global ----------- */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      scroll-behavior: smooth;
    }

    /* ----------- Barre de navigation ----------- */
    .navbar {
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .navbar-brand img {
      width: 35px;
      height: auto;
    }

    .navbar-brand span {
      font-size: 1rem;
      font-weight: 600;
      white-space: nowrap;
    }

    .navbar-nav {
      margin-left: auto;
    }

    .nav-link.active {
      font-weight: 600;
      color: #0d6efd !important;
    }

    @media (max-width: 768px) {
      .navbar-brand img { width: 28px; }
      .navbar-brand span { font-size: 0.9rem; }
      .navbar-nav .nav-link { padding: 6px 8px; font-size: 0.85rem; }
    }

    /* ----------- Section d’accueil ----------- */
    header {
      background: url('https://images.unsplash.com/photo-1581091012184-5c79c59d1d8f?auto=format&fit=crop&w=1400&q=80') center/cover no-repeat;
      height: 80vh;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }

    header::after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.45);
    }

    header h1, header p, header a {
      position: relative;
      z-index: 2;
    }

    header h1 {
      font-size: 2.4rem;
      font-weight: bold;
    }

    header p { font-size: 1.05rem; }

    /* ----------- Sections ----------- */
    section { padding: 80px 0; }

    .section-title { text-align: center; margin-bottom: 40px; }

    .card img { height: 200px; object-fit: cover; }

    footer {
      background-color: #222;
      color: #ccc;
      text-align: center;
      padding: 30px 0;
      font-size: 0.9rem;
    }

    footer a { color: #fff; text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>

<body>
  <!-- Barre de navigation -->
  <nav class="navbar navbar-expand navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#accueil">
        <img src="https://cdn-icons-png.flaticon.com/512/25/25694.png" alt="logo">
        <span>ImmoBTP</span>
      </a>
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" href="#accueil">Accueil</a></li>
        <li class="nav-item"><a class="nav-link" href="#parcelles">Parcelles</a></li>
        <li class="nav-item"><a class="nav-link" href="#btp">BTP</a></li>
        <li class="nav-item"><a class="nav-link" href="#apropos">À propos</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Section d'accueil -->
  <header id="accueil">
    <div class="container text-center">
      <h1>Investissez dans votre avenir</h1>
      <p>Vente de parcelles et services BTP fiables et professionnels.</p>
      <a href="#parcelles" class="btn btn-light mt-3">Voir les offres</a>
    </div>
  </header>

  <!-- Section Parcelles -->
  <section id="parcelles">
    <div class="container">
      <div class="section-title">
        <h2>Nos Parcelles Disponibles</h2>
        <p>Des terrains bien situés, sécurisés et prêts à être bâtis.</p>
      </div>
      <div class="row" id="parcelles-list">
        <!-- Cartes insérées dynamiquement par JS -->
      </div>
    </div>
  </section>

  <!-- Section BTP -->
  <section id="btp" class="bg-light">
    <div class="container">
      <div class="section-title">
        <h2>Nos Services BTP</h2>
        <p>De la conception à la réalisation, votre satisfaction est notre priorité.</p>
      </div>
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body text-center">
              <h5>Construction de maisons</h5>
              <p>Des plans modernes et durables pour tous les budgets.</p>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body text-center">
              <h5>Rénovation & Aménagement</h5>
              <p>Transformez vos bâtiments avec des matériaux de qualité.</p>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body text-center">
              <h5>Suivi & Expertise</h5>
              <p>Un accompagnement technique et administratif complet.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- À propos -->
  <section id="apropos">
    <div class="container text-center">
      <h2>À propos de nous</h2>
      <p>ImmoBTP est une entreprise spécialisée dans la vente de terrains et la prestation de services BTP. Nous mettons un point d’honneur à offrir des produits légaux, accessibles et fiables.</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="bg-light">
    <div class="container text-center">
      <h2>Contactez-nous</h2>
      <p>Besoin d’informations ? Appelez-nous ou envoyez-nous un message.</p>
      <!-- mailto prêt à l'emploi : change l'adresse si besoin -->
      <a id="contact-mail" href="mailto:contact@immobtp.com" class="btn btn-primary">Envoyer un mail</a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 ImmoBTP. Tous droits réservés. | <a href="#">Mentions légales</a></p>
  </footer>

  <!-- Modal fiche parcelle -->
  <div class="modal fade" id="ficheModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalTitle">Parcelle</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
          <div id="modalCarousel" class="carousel slide mb-3" data-bs-ride="carousel">
            <div class="carousel-inner" id="modalCarouselInner"></div>
            <button class="carousel-control-prev" type="button" data-bs-target="#modalCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#modalCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
          </div>

          <p><strong>Superficie :</strong> <span id="modalSuperficie"></span></p>
          <p><strong>Prix :</strong> <span id="modalPrix"></span></p>
          <p id="modalDesc"></p>

          <div class="ratio ratio-16x9 mt-3">
            <iframe id="modalMap" src="" allowfullscreen></iframe>
          </div>
        </div>
        <div class="modal-footer">
          <a id="modalContact" class="btn btn-success" href="mailto:contact@immobtp.com">Contacter le vendeur</a>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Données d'exemple : modifie/rajoute des objets ici
    const parcelles = [
      {
        id: "calavi",
        titre: "Parcelle à Calavi",
        superficie: "300 m²",
        prix: "3 500 000 FCFA",
        description: "Parcelle résidentielle bien située, proche des commodités. Titre foncier disponible.",
        images: [
          "https://images.unsplash.com/photo-1600585154340-be6161a56a0c",
          "https://images.unsplash.com/photo-1501183638710-841dd1904471"
        ],
        mapEmbed: "https://www.google.com/maps?q=abomey-calavi,benin&output=embed"
      },
      {
        id: "portonovo",
        titre: "Terrain à Porto-Novo",
        superficie: "500 m²",
        prix: "4 200 000 FCFA",
        description: "Lotissement approuvé, accès routier et viabilisation partielle.",
        images: [
          "https://images.unsplash.com/photo-1528909514045-2fa4ac7a08ba",
          "https://images.unsplash.com/photo-1570129477492-45c003edd2be"
        ],
        mapEmbed: "https://www.google.com/maps?q=porto-novo,benin&output=embed"
      }
    ];

    // Remplir la liste des parcelles (HTML)
    function renderParcelles() {
      const container = document.getElementById('parcelles-list');
      container.innerHTML = '';
      parcelles.forEach(p => {
        const col = document.createElement('div');
        col.className = 'col-md-4 mb-4';
        col.innerHTML = `
          <div class="card shadow-sm">
            <img src="${p.images[0]}?auto=format&fit=crop&w=800&q=80" class="card-img-top" alt="${p.titre}">
            <div class="card-body">
              <h5 class="card-title">${p.titre}</h5>
              <p class="card-text">${p.superficie} - ${p.prix}</p>
              <button class="btn btn-primary" data-id="${p.id}" onclick="openFiche('${p.id}')">Voir détails</button>
            </div>
          </div>
        `;
        container.appendChild(col);
      });
    }

    // Ouvrir modal et remplir avec les données
    function openFiche(id) {
      const p = parcelles.find(x => x.id === id);
      if (!p) return;
      document.getElementById('modalTitle').textContent = p.titre;
      document.getElementById('modalSuperficie').textContent = p.superficie;
      document.getElementById('modalPrix').textContent = p.prix;
      document.getElementById('modalDesc').textContent = p.description;
      document.getElementById('modalMap').src = p.mapEmbed;

      // Carousel images
      const inner = document.getElementById('modalCarouselInner');
      inner.innerHTML = '';
      p.images.forEach((src, idx) => {
        const item = document.createElement('div');
        item.className = 'carousel-item' + (idx === 0 ? ' active' : '');
        item.innerHTML = `<img src="${src}?auto=format&fit=crop&w=1200&q=80" class="d-block w-100" alt="img${idx+1}">`;
        inner.appendChild(item);
      });

      // Mettre à jour le contact mailto pour inclure la référence
      const mail = `mailto:contact@immobtp.com?subject=Info%20sur%20${encodeURIComponent(p.titre)}&body=Bonjour,%0A%0AJe%20souhaite%20des%20informations%20sur%20la%20parcelle%20:${encodeURIComponent(p.titre)}.%0A%0AMerci.`;
      document.getElementById('modalContact').href = mail;
      document.getElementById('contact-mail').href = mail;

      const modal = new bootstrap.Modal(document.getElementById('ficheModal'));
      modal.show();
    }

    // Navigation : lien actif (au scroll) et clic
    document.addEventListener('DOMContentLoaded', () => {
      renderParcelles();

      // Activer le lien correspondant au hash (si présent)
      function setActiveByHash() {
        const hash = location.hash.replace('#','') || 'accueil';
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        const link = Array.from(document.querySelectorAll('.nav-link')).find(l => l.getAttribute('href') === '#' + hash);
        if (link) link.classList.add('active');
      }
      setActiveByHash();

      // Smooth scroll + set active on click
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const target = document.querySelector(link.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            history.pushState(null, '', link.getAttribute('href'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            link.classList.add('active');
          }
        });
      });

      // Set active while scrolling (optional)
      window.addEventListener('scroll', () => {
        const sections = ['accueil','parcelles','btp','apropos','contact'];
        let current = 'accueil';
        sections.forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
          const top = el.getBoundingClientRect().top;
          if (top <= 120) current = id;
        });
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        const activeLink = document.querySelector(`.nav-link[href="#${current}"]`);
        if (activeLink) activeLink.classList.add('active');
      });
    });
  </script>
</body>
</html>
